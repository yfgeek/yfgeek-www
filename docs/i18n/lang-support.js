!function(t,e){"use strict";function n(t){t+="",t=(t||"").replace(/^\s+|\s+$/,"");try{return new Function("return "+t)()}catch(t){return{}}}var a={readyFn:[],isLoaded:!1,version:"0.0.5",opt:{},pack:{},options:{packType:"file",baseUrl:"./i18n/",defaultLang:"en"},noop:function(){return function(){}},extend:function(){var t,e=arguments[0]||{},n=1,a=arguments.length;for("object"!=typeof e&&"function"!=typeof e&&(e={});n<a;n++)if(null!=(t=arguments[n]))for(var r in t){var o=t[r];e!==o&&(void 0!==o&&(e[r]=o))}return e},getType:function(){var t=navigator.language||navigator.browserLanguage;return console.log(t),window.H5LangType||t||this.opt.defaultLang||"en"},type:"en"};a.init=function(){var a=this,r=document.body.getAttribute("data-lang-config")||{};a.type=a.getType(),a.opt=a.extend({},a.options,n(r)),e._H5Lang_||(e._H5Lang_={}),t.body.className+=" body-lang-"+a.type+" body-lang-load","inline"===a.opt.packType?a.loadSuccess():a.loadJs(a.getUrl(),{onLoad:function(){a.loadSuccess()},onError:function(){console.error("[load fail:"+a.getUrl()+"]")}})},a.changeLang=function(a){var r=this,o=document.body.getAttribute("data-lang-config")||{};r.type=a,r.opt=r.extend({},r.options,n(o)),e._H5Lang_||(e._H5Lang_={}),t.body.className+=" body-lang-"+r.type+" body-lang-load","inline"===r.opt.packType?r.loadSuccess():r.loadJs(r.getUrl(),{onLoad:function(){r.loadSuccess()},onError:function(){console.error("[load fail:"+r.getUrl()+"]")}})},a.loadSuccess=function(){var t=this;if(t.pack=e._H5Lang_[t.type]||"",""===t.pack)return void console.error("[no lang:"+t.type+"]");t.translate(),t.isLoaded=!0;for(var n in t.readyFn)"function"==typeof t.readyFn[n]&&t.readyFn[n]()},a.loadJs=function(t,e){var n=this,r=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script"),i={onLoad:n.noop,onError:n.noop,charset:"utf-8",timeout:1e4},l=null;t&&(i=a.extend(i,e),o.type="text/javascript",o.src=t,o.charset=i.charset,o.onload=function(){i.onLoad(),clearTimeout(l)},o.onerror=i.onError,o.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(o.onreadystatechange=null,clearTimeout(l),i.onLoad())},r.insertBefore(o,r.firstChild),l=setTimeout(function(){r.removeChild(o),i.onError()},i.timeout))},a.getUrl=function(){return this.opt.baseUrl+("/"!==this.opt.baseUrl.slice(-1)?"/":"")+this.type+".js"},a.translate=function(){var t=this,n=document.querySelectorAll("*"),a=null,r="",o="",i="";for(var l in n)(a=n[l])&&1===a.nodeType&&null===a.getAttribute("data-lang-load")&&(r=a&&a.getAttribute("data-lang")||"",o=r&&this.get(r)||"",i=(a.tagName||"").toLowerCase(),r&&o&&("input"===i||"textarea"===i?a.value=o:"img"===i?a.getAttribute("data-src")?(a.setAttribute("data-src",o),a.hasAttribute("src")&&a.setAttribute("src",o)):a.setAttribute("src",o):"script"===i||"iframe"===i?a.src=o:"base"===i||"link"===i?a.href=o:a.innerHTML=o),"script"===i&&"text/html"===a.type&&(a.text=(a.text||"").replace(/@lang\s*\(([^\)]+)\)/g,function(e,n){return n=(n||"").replace(/^\s+|\s+$/g,""),t.get(n)})),"input"!==i&&"textarea"!==i||(a.setAttribute("placeholder",t.get(a.getAttribute("data-lang-placeholder"))),a.removeAttribute("data-lang-placeholder")),a.getAttribute("data-lang-title")&&(a.setAttribute("title",t.get(a.getAttribute("data-lang-title"))),a.removeAttribute("data-lang-title")),"a"===i&&a.getAttribute("data-lang-href")&&(a.setAttribute("href",t.get(a.getAttribute("data-lang-href"))),a.removeAttribute("data-lang-href")),"img"===i&&a.getAttribute("data-lang-alt")&&(a.setAttribute("alt",t.get(a.getAttribute("data-lang-alt"))),a.removeAttribute("data-lang-alt")));return e.AlipayJSBridge?t.setTitle():document.addEventListener("AlipayJSBridgeReady",function(){t.setTitle()}),n},a.setTitle=function(t,e){var n=this,a={},r=document.querySelector("title");t=t||n.get(r.getAttribute("data-lang")),e=e||n.get(r.getAttribute("data-lang-subtitle")),a={title:t,subtitle:e},AlipayJSBridge.call("setTitle",a)},a.get=function(){var t=this,e=arguments,n="",a=e[0],r=e.length;if(0===r)return t.pack;if(n=a&&t.pack[a]||"",1===r)return n;if(2===r&&"object"==typeof e[1])return n.replace(/\{%([^\}]+)\}/gi,function(t,n){return e[1][n]||""});var o=0;return n.replace(/\{%s\}/gi,function(){return o++,e[o]||""})},a.set=function(t,e){var n=this;return n.pack[t]?n.pack[t]=e:null},a.init(),e.H5LangReady=function(t){a.isLoaded?t():a.readyFn.push(t)},e.H5Lang=a}(document,window);