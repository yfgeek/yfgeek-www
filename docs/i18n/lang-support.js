((n,l)=>{var i={readyFn:[],isLoaded:!1,version:"0.0.5",opt:{},pack:{},options:{packType:"file",baseUrl:"./i18n/",defaultLang:"en"},noop:function(){return function(){}},extend:function(){var t,e=arguments[0]||{},a=1,n=arguments.length;for("object"!=typeof e&&"function"!=typeof e&&(e={});a<n;a++)if(null!=(t=arguments[a]))for(var r in t){var o=t[r];e!==o&&void 0!==o&&(e[r]=o)}return e},getType:function(){var t=navigator.language||navigator.browserLanguage;return console.log(t.toLowerCase()),window.H5LangType||t.toLowerCase()||this.opt.defaultLang||"en"},type:"en"};function r(t){t=((t+="")||"").replace(/^\s+|\s+$/,"");try{return new Function("return "+t)()}catch(t){return{}}}i.init=function(){var t=this,e=document.body.getAttribute("data-lang-config")||{};t.type=t.getType(),t.opt=t.extend({},t.options,r(e)),l._H5Lang_||(l._H5Lang_={}),n.body.className+=" body-lang-"+t.type+" body-lang-load","inline"===t.opt.packType?t.loadSuccess():t.loadJs(t.getUrl(),{onLoad:function(){t.loadSuccess()},onError:function(){console.error("[load fail:"+t.getUrl()+"]")}})},i.changeLang=function(t){var e=this,a=document.body.getAttribute("data-lang-config")||{};e.type=t,e.opt=e.extend({},e.options,r(a)),l._H5Lang_||(l._H5Lang_={}),n.body.className+=" body-lang-"+e.type+" body-lang-load","inline"===e.opt.packType?e.loadSuccess():e.loadJs(e.getUrl(),{onLoad:function(){e.loadSuccess()},onError:function(){console.error("[load fail:"+e.getUrl()+"]")}})},i.loadSuccess=function(){var t=this;if(t.pack=l._H5Lang_[t.type]||"",""===t.pack)console.error("[no lang:"+t.type+"]");else for(var e in t.translate(),t.isLoaded=!0,t.readyFn)"function"==typeof t.readyFn[e]&&t.readyFn[e]()},i.loadJs=function(t,e){var a=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script"),r={onLoad:this.noop,onError:this.noop,charset:"utf-8",timeout:1e4},o=null;t&&(r=i.extend(r,e),n.type="text/javascript",n.src=t,n.charset=r.charset,n.onload=function(){r.onLoad(),clearTimeout(o)},n.onerror=r.onError,n.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(n.onreadystatechange=null,clearTimeout(o),r.onLoad())},a.insertBefore(n,a.firstChild),o=setTimeout(function(){a.removeChild(n),r.onError()},r.timeout))},i.getUrl=function(){return this.opt.baseUrl+("/"!==this.opt.baseUrl.slice(-1)?"/":"")+this.type+".js"},i.translate=function(){var t,e,a,n,r=this,o=document.querySelectorAll("*"),i=null;for(n in o)(i=o[n])&&1===i.nodeType&&null===i.getAttribute("data-lang-load")&&(e=(t=i&&i.getAttribute("data-lang")||"")&&this.get(t)||"",a=(i.tagName||"").toLowerCase(),t&&e&&("input"===a||"textarea"===a?i.value=e:"img"===a?i.getAttribute("data-src")&&(i.setAttribute("data-src",e),!i.hasAttribute("src"))||i.setAttribute("src",e):"script"===a||"iframe"===a?i.src=e:"base"===a||"link"===a?i.href=e:i.innerHTML=e),"script"===a&&"text/html"===i.type&&(i.text=(i.text||"").replace(/@lang\s*\(([^\)]+)\)/g,function(t,e){return e=(e||"").replace(/^\s+|\s+$/g,""),r.get(e)})),"input"!==a&&"textarea"!==a||(i.setAttribute("placeholder",r.get(i.getAttribute("data-lang-placeholder"))),i.removeAttribute("data-lang-placeholder")),i.getAttribute("data-lang-title")&&(i.setAttribute("title",r.get(i.getAttribute("data-lang-title"))),i.removeAttribute("data-lang-title")),"a"===a&&i.getAttribute("data-lang-href")&&(i.setAttribute("href",r.get(i.getAttribute("data-lang-href"))),i.removeAttribute("data-lang-href")),"img"===a)&&i.getAttribute("data-lang-alt")&&(i.setAttribute("alt",r.get(i.getAttribute("data-lang-alt"))),i.removeAttribute("data-lang-alt"));return l.AlipayJSBridge?r.setTitle():document.addEventListener("AlipayJSBridgeReady",function(){r.setTitle()}),o},i.setTitle=function(t,e){var a=document.querySelector("title");t=t||this.get(a.getAttribute("data-lang")),e=e||this.get(a.getAttribute("data-lang-subtitle")),AlipayJSBridge.call("setTitle",{title:t,subtitle:e})},i.get=function(){var t,a=arguments,e="",n=a[0],r=a.length;return 0===r?this.pack:(e=n&&this.pack[n]||"",1===r?e:2===r&&"object"==typeof a[1]?e.replace(/\{%([^\}]+)\}/gi,function(t,e){return a[1][e]||""}):(t=0,e.replace(/\{%s\}/gi,function(){return a[++t]||""})))},i.set=function(t,e){return this.pack[t]?this.pack[t]=e:null},i.init(),l.H5LangReady=function(t){i.isLoaded?t():i.readyFn.push(t)},l.H5Lang=i})(document,window);