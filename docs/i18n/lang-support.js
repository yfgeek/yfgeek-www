!function(t,e){"use strict";function a(t){t+="",t=(t||"").replace(/^\s+|\s+$/,"");try{return new Function("return "+t)()}catch(t){return{}}}var n={readyFn:[],isLoaded:!1,version:"0.0.5",opt:{},pack:{},options:{packType:"file",baseUrl:"./i18n/",defaultLang:"en"},noop:function(){return function(){}},extend:function(){var t,e=arguments[0]||{},a=1,n=arguments.length;for("object"!=typeof e&&"function"!=typeof e&&(e={});a<n;a++)if(null!=(t=arguments[a]))for(var r in t){var o=t[r];e!==o&&(void 0!==o&&(e[r]=o))}return e},getType:function(){var t=navigator.language||navigator.browserLanguage;return console.log(t.toLowerCase()),window.H5LangType||t.toLowerCase()||this.opt.defaultLang||"en"},type:"en"};n.init=function(){var n=this,r=document.body.getAttribute("data-lang-config")||{};n.type=n.getType(),n.opt=n.extend({},n.options,a(r)),e._H5Lang_||(e._H5Lang_={}),t.body.className+=" body-lang-"+n.type+" body-lang-load","inline"===n.opt.packType?n.loadSuccess():n.loadJs(n.getUrl(),{onLoad:function(){n.loadSuccess()},onError:function(){console.error("[load fail:"+n.getUrl()+"]")}})},n.changeLang=function(n){var r=this,o=document.body.getAttribute("data-lang-config")||{};r.type=n,r.opt=r.extend({},r.options,a(o)),e._H5Lang_||(e._H5Lang_={}),t.body.className+=" body-lang-"+r.type+" body-lang-load","inline"===r.opt.packType?r.loadSuccess():r.loadJs(r.getUrl(),{onLoad:function(){r.loadSuccess()},onError:function(){console.error("[load fail:"+r.getUrl()+"]")}})},n.loadSuccess=function(){var t=this;if(t.pack=e._H5Lang_[t.type]||"",""===t.pack)return void console.error("[no lang:"+t.type+"]");t.translate(),t.isLoaded=!0;for(var a in t.readyFn)"function"==typeof t.readyFn[a]&&t.readyFn[a]()},n.loadJs=function(t,e){var a=this,r=document.getElementsByTagName("head")[0]||document.documentElement,o=document.createElement("script"),i={onLoad:a.noop,onError:a.noop,charset:"utf-8",timeout:1e4},l=null;t&&(i=n.extend(i,e),o.type="text/javascript",o.src=t,o.charset=i.charset,o.onload=function(){i.onLoad(),clearTimeout(l)},o.onerror=i.onError,o.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(o.onreadystatechange=null,clearTimeout(l),i.onLoad())},r.insertBefore(o,r.firstChild),l=setTimeout(function(){r.removeChild(o),i.onError()},i.timeout))},n.getUrl=function(){return this.opt.baseUrl+("/"!==this.opt.baseUrl.slice(-1)?"/":"")+this.type+".js"},n.translate=function(){var t=this,a=document.querySelectorAll("*"),n=null,r="",o="",i="";for(var l in a)(n=a[l])&&1===n.nodeType&&null===n.getAttribute("data-lang-load")&&(r=n&&n.getAttribute("data-lang")||"",o=r&&this.get(r)||"",i=(n.tagName||"").toLowerCase(),r&&o&&("input"===i||"textarea"===i?n.value=o:"img"===i?n.getAttribute("data-src")?(n.setAttribute("data-src",o),n.hasAttribute("src")&&n.setAttribute("src",o)):n.setAttribute("src",o):"script"===i||"iframe"===i?n.src=o:"base"===i||"link"===i?n.href=o:n.innerHTML=o),"script"===i&&"text/html"===n.type&&(n.text=(n.text||"").replace(/@lang\s*\(([^\)]+)\)/g,function(e,a){return a=(a||"").replace(/^\s+|\s+$/g,""),t.get(a)})),"input"!==i&&"textarea"!==i||(n.setAttribute("placeholder",t.get(n.getAttribute("data-lang-placeholder"))),n.removeAttribute("data-lang-placeholder")),n.getAttribute("data-lang-title")&&(n.setAttribute("title",t.get(n.getAttribute("data-lang-title"))),n.removeAttribute("data-lang-title")),"a"===i&&n.getAttribute("data-lang-href")&&(n.setAttribute("href",t.get(n.getAttribute("data-lang-href"))),n.removeAttribute("data-lang-href")),"img"===i&&n.getAttribute("data-lang-alt")&&(n.setAttribute("alt",t.get(n.getAttribute("data-lang-alt"))),n.removeAttribute("data-lang-alt")));return e.AlipayJSBridge?t.setTitle():document.addEventListener("AlipayJSBridgeReady",function(){t.setTitle()}),a},n.setTitle=function(t,e){var a=this,n={},r=document.querySelector("title");t=t||a.get(r.getAttribute("data-lang")),e=e||a.get(r.getAttribute("data-lang-subtitle")),n={title:t,subtitle:e},AlipayJSBridge.call("setTitle",n)},n.get=function(){var t=this,e=arguments,a="",n=e[0],r=e.length;if(0===r)return t.pack;if(a=n&&t.pack[n]||"",1===r)return a;if(2===r&&"object"==typeof e[1])return a.replace(/\{%([^\}]+)\}/gi,function(t,a){return e[1][a]||""});var o=0;return a.replace(/\{%s\}/gi,function(){return o++,e[o]||""})},n.set=function(t,e){var a=this;return a.pack[t]?a.pack[t]=e:null},n.init(),e.H5LangReady=function(t){n.isLoaded?t():n.readyFn.push(t)},e.H5Lang=n}(document,window);