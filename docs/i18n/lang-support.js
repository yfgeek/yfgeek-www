((a,l)=>{var i={readyFn:[],isLoaded:!1,version:"0.0.5",opt:{},pack:{},options:{packType:"file",baseUrl:"./i18n/",defaultLang:"en"},noop:function(){return function(){}},extend:function(){var t,e=arguments[0]||{},n=1,a=arguments.length;for("object"!=typeof e&&"function"!=typeof e&&(e={});n<a;n++)if(null!=(t=arguments[n]))for(var r in t){var o=t[r];e!==o&&void 0!==o&&(e[r]=o)}return e},getType:function(){var t=navigator.language||navigator.browserLanguage;return console.log(t.toLowerCase()),o(window.H5LangType||t.toLowerCase()||this.opt.defaultLang||"en")},type:"en"};function r(t){t=((t+="")||"").replace(/^\s+|\s+$/,"");try{return new Function("return "+t)()}catch(t){return{}}}function o(t){return"zh-cn"===(t=(t||"").toLowerCase())||"zh-hans"===t||"zh"===t?"zh-cn":"zh-tw"===t||"zh-hant"===t||"zh-hk"===t?"zh-tw":"en"===t||"en-us"===t||"en-gb"===t?"en":t}i.init=function(){var t=this,e=document.body.getAttribute("data-lang-config")||{};t.type=t.getType(),t.opt=t.extend({},t.options,r(e)),l._H5Lang_||(l._H5Lang_={}),a.body.className+=" body-lang-"+t.type+" body-lang-load","inline"===t.opt.packType?t.loadSuccess():t.loadJs(t.getUrl(),{onLoad:function(){t.loadSuccess()},onError:function(){console.error("[load fail:"+t.getUrl()+"]")}})},i.changeLang=function(t){var e=this,n=document.body.getAttribute("data-lang-config")||{};e.type=o(t),e.opt=e.extend({},e.options,r(n)),l._H5Lang_||(l._H5Lang_={}),a.body.className+=" body-lang-"+e.type+" body-lang-load","inline"===e.opt.packType?e.loadSuccess():e.loadJs(e.getUrl(),{onLoad:function(){e.loadSuccess()},onError:function(){console.error("[load fail:"+e.getUrl()+"]")}})},i.loadSuccess=function(){var t=this;if(t.pack=l._H5Lang_[t.type]||"",""===t.pack)console.error("[no lang:"+t.type+"]");else for(var e in t.translate(),t.isLoaded=!0,t.readyFn)"function"==typeof t.readyFn[e]&&t.readyFn[e]()},i.loadJs=function(t,e){var n=document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script"),r={onLoad:this.noop,onError:this.noop,charset:"utf-8",timeout:1e4},o=null;t&&(r=i.extend(r,e),a.type="text/javascript",a.src=t,a.charset=r.charset,a.onload=function(){r.onLoad(),clearTimeout(o)},a.onerror=r.onError,a.onreadystatechange=function(){var t=this.readyState;"loaded"!==t&&"complete"!==t||(a.onreadystatechange=null,clearTimeout(o),r.onLoad())},n.insertBefore(a,n.firstChild),o=setTimeout(function(){n.removeChild(a),r.onError()},r.timeout))},i.getUrl=function(){return this.opt.baseUrl+("/"!==this.opt.baseUrl.slice(-1)?"/":"")+this.type+".js"},i.translate=function(){var t,e,n,a,r=this,o=document.querySelectorAll("*"),i=null;for(a in o)(i=o[a])&&1===i.nodeType&&null===i.getAttribute("data-lang-load")&&(e=(t=i&&i.getAttribute("data-lang")||"")&&this.get(t)||"",n=(i.tagName||"").toLowerCase(),t&&e&&("input"===n||"textarea"===n?i.value=e:"img"===n?i.getAttribute("data-src")&&(i.setAttribute("data-src",e),!i.hasAttribute("src"))||i.setAttribute("src",e):"script"===n||"iframe"===n?i.src=e:"base"===n||"link"===n?i.href=e:i.innerHTML=e),"script"===n&&"text/html"===i.type&&(i.text=(i.text||"").replace(/@lang\s*\(([^\)]+)\)/g,function(t,e){return e=(e||"").replace(/^\s+|\s+$/g,""),r.get(e)})),"input"!==n&&"textarea"!==n||(i.setAttribute("placeholder",r.get(i.getAttribute("data-lang-placeholder"))),i.removeAttribute("data-lang-placeholder")),i.getAttribute("data-lang-title")&&(i.setAttribute("title",r.get(i.getAttribute("data-lang-title"))),i.removeAttribute("data-lang-title")),"a"===n&&i.getAttribute("data-lang-href")&&(i.setAttribute("href",r.get(i.getAttribute("data-lang-href"))),i.removeAttribute("data-lang-href")),"img"===n)&&i.getAttribute("data-lang-alt")&&(i.setAttribute("alt",r.get(i.getAttribute("data-lang-alt"))),i.removeAttribute("data-lang-alt"));return l.AlipayJSBridge?r.setTitle():document.addEventListener("AlipayJSBridgeReady",function(){r.setTitle()}),o},i.setTitle=function(t,e){var n=document.querySelector("title");t=t||this.get(n.getAttribute("data-lang")),e=e||this.get(n.getAttribute("data-lang-subtitle")),AlipayJSBridge.call("setTitle",{title:t,subtitle:e})},i.get=function(){var t,n=arguments,e="",a=n[0],r=n.length;return 0===r?this.pack:(e=a&&this.pack[a]||"",1===r?e:2===r&&"object"==typeof n[1]?e.replace(/\{%([^\}]+)\}/gi,function(t,e){return n[1][e]||""}):(t=0,e.replace(/\{%s\}/gi,function(){return n[++t]||""})))},i.set=function(t,e){return this.pack[t]?this.pack[t]=e:null},i.init(),l.H5LangReady=function(t){i.isLoaded?t():i.readyFn.push(t)},l.H5Lang=i})(document,window);